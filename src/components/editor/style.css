.dark {
    --background: #27272a;
    --foreground: #f3f3f3;
    --border: #52525b;
    --accent: #52525b;
    --color-border: #52525b;
}

.dark .ce-code__textarea {
    background-color: rgb(63 63 70); /* zinc-700 */
    color: rgb(244 244 245); /* zinc-100 */
    border-color: rgb(63 63 70); /* zinc-700 */
}

.dark .cdx-marker {
    background-color: rgb(194 65 12); /* orange-700 */
    color: rgb(249 250 251); /* gray-50 */
}

.dark .ce-popover,
.dark .ce-popover-item,
.dark .ce-popover-item__icon,
.dark .ce-popover-items {
    --color-background-item-hover: rgb(63 63 70); /* zinc-700 */
    background-color: hsl(var(--background) / 0.4);
    border-color: var(--border);
    background: hsl(var(--background) / 0.4);
}

.dark .ce-popover-item--confirmation,
.dark .ce-popover-item--confirmation:hover {
    background-color: rgb(239 68 68) !important; /* red-500 */
}

.dark .ce-popover-item-separator__line {
    background-color: rgb(82 82 91); /* zinc-600 */
}

.dark .ce-popover__container .ce-popover-item:hover {
    background-color: rgb(24 24 27); /* zinc-900 */
}

.dark .ce-popover-item__icon--chevron-right {
    background: none !important;
    background-color: none !important;
}

.dark .ce-popover__container {
    background: var(--background);
}

.dark .ce-popover--opened > .ce-popover__container {
    border: 1px solid var(--border);
}

.dark .ce-popover-item-separator__line {
    border: 1px solid hsl(var(--border));
}

.dark .ce-toolbar__plus,
.dark .ce-toolbar__settings-btn,
.dark .ce-popover-item__title,
.dark .ce-inline-tool .dark .ce-inline-tool--link .dark .ce-popover-item__icon {
    color: var(--foreground) !important;
}

.dark .cdx-search-field.ce-popover__search {
    background-color: var(--muted) / 0.3;
    border-color: var(--border);
}

.dark .ce-popover__items input {
    color: var(--background);
}
.dark .cdx-search-field__input {
    color: var(--foreground);
}

.dark .cdx-block,
.dark .ce-block {
    color: var(--foreground);
}

.dark .ce-inline-toolbar,
.dark .ce-conversion-tool__icon,
.dark .ce-popover-item__icon,
.dark .tc-popover__item-icon {
    color: var(--foreground);
    background-color: var(--background);
    border-color: var(--border);
}

.dark .ce-popover,
.dark .ce-conversion-toolbar,
.dark .ce-inline-toolbar,
.dark .tc-popover {
    background-color: var(--background);
    border-color: var(--border);
    box-shadow: 0 3px 15px -3px var(--border);
}

.dark .ce-stub {
    background-color: rgb(39 39 42); /* zinc-800 */
    border-color: rgb(63 63 70); /* zinc-700 */
}

.dark .ce-inline-tool {
    color: hsl(var(--color-text-primary));
}

.dark .ce-inline-tool:hover,
.dark .ce-inline-toolbar__dropdown:hover,
.dark .ce-toolbar__plus:hover,
.dark .ce-toolbar__settings-btn:hover,
.dark .ce-conversion-tool:hover,
.dark .ce-popover-item:hover {
    background-color: var(--background);
}

.dark *::selection,
.dark .ce-block.ce-block--selected .ce-block__content {
    background-color: var(--accent);
}

.dark .ce-popover__items {
    scrollbar-color: hsl(var(--border)) hsl(var(--background));
}

/* table class wrapper */
.dark .tc-wrap,
.dark .tc-wrap * {
    --color-border: var(--border);
    --color-text-secondary: var(--foreground);
    --color-background: var(--accent);
    --toggler-dots-color: var(--accent);
    --toggler-dots-color-hovered: var(--foreground);
}

/* custome style */

@media (max-width: 650px) {
    .dark .ce-toolbar__settings-btn,
    .dark .ce-toolbar__plus {
        border: 1px solid #E8E8EB;
        background-color: var(--background) !important;
        border-color: var(--border) !important;
        width: 36px;
            height: 36px;
    }
}

@media (max-width: 650px) {
    .ce-toolbar__plus {
        position: absolute;
        background-color: #fff;
        border: 1px solid #E8E8EB;
        -webkit-box-shadow: 0 3px 15px -3px rgba(13, 20, 33, .13);
        box-shadow: 0 3px 15px -3px #0d142121;
        border-radius: 6px;
        z-index: 2;
        position: static;
    }
}

@media (min-width: 651px) {
    .codex-editor__redactor {
        margin-left: 0 !important;
        margin-right: 0 !important;
    }
}

@media (min-width: 651px) {
    .ce-toolbar__actions {
        right: 0 !important;
        left: -60px !important;
    }
}

@media (max-width: 800px) {
    .codex-editor {
        max-width: calc(100% - 120px);
        margin: 0 auto
    }
}

@media (max-width: 650px) {
    .codex-editor {
        max-width: 100%;
        margin: 0 auto
    }

    .ce-toolbar__actions {
        right: auto !important;
    }
}

@media (max-width: 650px) {
    .ce-popover .ce-popover__container {
        --offset: 14px;
        position: fixed;
        max-width: none;
        min-width: calc(100% - var(--offset) * 2);
        left: var(--offset);
        right: var(--offset);
        bottom: calc(100px + env(safe-area-inset-bottom));
        top: auto;
        border-radius: 10px;
    }
}

.tc-cell {
    word-wrap: break-word;
    overflow-wrap: break-word;
}

.ce-popover--open-left .ce-popover__container {
    --popover-right: calc(-1 * var(--width) + 100%);
}

.ce-code__textarea {
    word-wrap: break-word;
    overflow-wrap: break-word;
    white-space: pre-wrap;
    border-radius: 0.5rem; /* rounded-lg */
}

.ce-popover-item__icon--tool {
    border-radius: 0.375rem; /* rounded-md */
}

.editor h1 {
    font-size: 1.875rem !important; /* text-3xl */
    line-height: 2.25rem !important;
}

.editor h2 {
    font-size: 1.5rem !important; /* text-2xl */
    line-height: 2rem !important;
}

.editor h3 {
    font-size: 1.25rem !important; /* text-xl */
    line-height: 1.75rem !important;
}

.editor h4 {
    font-size: 1.125rem !important; /* text-lg */
    line-height: 1.75rem !important;
}

.editor h5 {
    font-size: 1rem !important; /* text-base */
    line-height: 1.5rem !important;
}

.editor .image-tool__image {
    margin-left: auto;
    margin-right: auto;
    max-width: 65%;
}

.editor .image-tool__caption {
    border-radius: 0.75rem; /* rounded-xl */
    border-color: rgb(228 228 231) !important; /* foreground-200 */
    position: relative;
}

.editor .image-tool--caption .image-tool__caption {
    display: block !important;
}

video {
    width: 100%;
    height: auto;
    object-fit: contain; /* 根据需求选择：cover / fill / contain */
}

.editor .ce-delimiter-line {
    height: 34px;
    display: flex;
    align-items: center;
    justify-content: center;
}

.editor .ce-delimiter-line hr {
    border-color: var(--color-border);
}

.editor .ce-toolbar {
    right: auto;
}

.editor .ce-block {
    word-wrap: break-word;
    overflow-wrap: break-word;
    word-break: break-all;
}

.editor .codex-editor-overlay__rectangle {
    border: none !important;
}

.ce-block__content li ul {
    padding-inline-start: 20px !important;
}
